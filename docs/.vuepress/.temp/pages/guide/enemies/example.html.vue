<template><div><h1 id="enemigos-de-ejemplo" tabindex="-1"><a class="header-anchor" href="#enemigos-de-ejemplo"><span>Enemigos de ejemplo</span></a></h1>
<p>Anteriormente, habíamos creado un conjunto de enemigos básicos que debemos actualizar de la siguiente manera:</p>
<h2 id="implementacion-de-la-clase-tinybat" tabindex="-1"><a class="header-anchor" href="#implementacion-de-la-clase-tinybat"><span>Implementación de la clase <code v-pre>TinyBat</code></span></a></h2>
<div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre v-pre class="language-java"><code>    <span class="token keyword">package</span> <span class="token namespace">enemies<span class="token punctuation">.</span>bats</span><span class="token punctuation">;</span>
    
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">enemies<span class="token punctuation">.</span></span><span class="token class-name">Enemy</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">game<span class="token punctuation">.</span>exceptions<span class="token punctuation">.</span></span><span class="token class-name">EnemyDeadException</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">gui_old<span class="token punctuation">.</span>panels<span class="token punctuation">.</span></span><span class="token class-name">CharactersPanel</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">gui_old<span class="token punctuation">.</span>panels<span class="token punctuation">.</span></span><span class="token class-name">DialogPanel</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">items<span class="token punctuation">.</span>misc<span class="token punctuation">.</span></span><span class="token class-name">BatEar</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">items<span class="token punctuation">.</span>misc<span class="token punctuation">.</span></span><span class="token class-name">BatWing</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">player<span class="token punctuation">.</span></span><span class="token class-name">Player</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">player<span class="token punctuation">.</span></span><span class="token class-name">Stats</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">util<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">RegularEnemy</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">util<span class="token punctuation">.</span>interfaces<span class="token punctuation">.</span></span><span class="token class-name">Randomized</span></span><span class="token punctuation">;</span>
    
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>swing<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
    
    <span class="token annotation punctuation">@RegularEnemy</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TinyBat</span> <span class="token keyword">extends</span> <span class="token class-name">Enemy</span> <span class="token punctuation">{</span>
    
        <span class="token keyword">public</span> <span class="token class-name">TinyBat</span><span class="token punctuation">(</span><span class="token class-name">Player</span> player<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">super</span><span class="token punctuation">(</span>player<span class="token punctuation">,</span> <span class="token string">"Mur. Diminuto"</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            image <span class="token operator">=</span> imageManager<span class="token punctuation">.</span><span class="token function">getImage</span><span class="token punctuation">(</span><span class="token string">"tinyBat"</span><span class="token punctuation">,</span>
                    <span class="token keyword">new</span> <span class="token class-name">ImageIcon</span><span class="token punctuation">(</span><span class="token string">"img\\enemies\\bats\\tinyBat.png"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            stats<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">ATTACK</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            stats<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">DEFENSE</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            stats<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">LUCK</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            stats<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">SPEED</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            stats<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">DEXTERITY</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
    
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">attack</span><span class="token punctuation">(</span><span class="token class-name">Player</span> player<span class="token punctuation">,</span> <span class="token class-name">CharactersPanel</span> panel<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">EnemyDeadException</span> <span class="token punctuation">{</span>
    
            <span class="token class-name">String</span> message <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isDead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
                <span class="token keyword">double</span> simpleAttackProbability <span class="token operator">=</span> <span class="token number">0.5</span><span class="token punctuation">;</span>
                <span class="token keyword">double</span> screechProbability <span class="token operator">=</span> <span class="token number">0.5</span><span class="token punctuation">;</span>
                <span class="token keyword">double</span> totalProbability <span class="token operator">=</span> simpleAttackProbability <span class="token operator">+</span> screechProbability<span class="token punctuation">;</span>
                <span class="token keyword">double</span> ratio <span class="token operator">=</span> <span class="token class-name">Randomized</span><span class="token punctuation">.</span><span class="token function">randomizeDouble</span><span class="token punctuation">(</span>totalProbability<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">// simpleAttackProbability = 50%, screechProbability = 50%</span>
                <span class="token comment">// simpleAttackProbability + screechProbability = 100%</span>
                <span class="token comment">// ratio = 0.0 - 0.5 -> simpleAttack, ratio = 0.51 - 1.0 -> screech</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>ratio <span class="token operator">&lt;=</span> simpleAttackProbability<span class="token punctuation">)</span> message <span class="token operator">=</span> <span class="token function">simpleAttack</span><span class="token punctuation">(</span>player<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">else</span> message <span class="token operator">=</span> <span class="token function">screech</span><span class="token punctuation">(</span>player<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">EnemyDeadException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">DialogPanel</span><span class="token punctuation">)</span> panel<span class="token punctuation">.</span><span class="token function">getDialogPanel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">dropItem</span><span class="token punctuation">(</span><span class="token class-name">Player</span> player<span class="token punctuation">,</span> <span class="token class-name">CharactersPanel</span> panel<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">int</span> ratio <span class="token operator">=</span> <span class="token class-name">Randomized</span><span class="token punctuation">.</span><span class="token function">randomizeNumber</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            player<span class="token punctuation">.</span><span class="token function">getInventory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addItem</span><span class="token punctuation">(</span>ratio <span class="token operator">></span> <span class="token number">50</span> <span class="token operator">?</span> <span class="token keyword">new</span> <span class="token class-name">BatWing</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">BatEar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token class-name">DialogPanel</span><span class="token punctuation">)</span> panel<span class="token punctuation">.</span><span class="token function">getDialogPanel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">simpleAttack</span><span class="token punctuation">(</span><span class="token class-name">Player</span> player<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">int</span> damage <span class="token operator">=</span> <span class="token function">getDamage</span><span class="token punctuation">(</span>player<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> message <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"¡%s ataca con %d punto(s) de daño!\n"</span><span class="token punctuation">,</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> damage<span class="token punctuation">)</span><span class="token punctuation">;</span>
            message <span class="token operator">+=</span> player<span class="token punctuation">.</span><span class="token function">takeDamage</span><span class="token punctuation">(</span>damage<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> message<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">screech</span><span class="token punctuation">(</span><span class="token class-name">Player</span> player<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">int</span> damage <span class="token operator">=</span> <span class="token function">getAdjustedAttack</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> message <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"¡%s emite un chillido ensordecedor que causa %d punto(s) de daño!\n"</span><span class="token punctuation">,</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                    damage<span class="token punctuation">)</span><span class="token punctuation">;</span>
            message <span class="token operator">+=</span> player<span class="token punctuation">.</span><span class="token function">takeDamage</span><span class="token punctuation">(</span>damage<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> message<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="el-tipo-enumerado-stats" tabindex="-1"><a class="header-anchor" href="#el-tipo-enumerado-stats"><span>El tipo enumerado <code v-pre>Stats</code></span></a></h2>
<div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre v-pre class="language-java"><code>    <span class="token keyword">package</span> <span class="token namespace">player</span><span class="token punctuation">;</span>
    
    <span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">Stats</span> <span class="token punctuation">{</span>
    
        <span class="token function">ATTACK</span><span class="token punctuation">(</span><span class="token string">"ATK"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">DEFENSE</span><span class="token punctuation">(</span><span class="token string">"DEF"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">DEXTERITY</span><span class="token punctuation">(</span><span class="token string">"HAB"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">INTELLIGENCE</span><span class="token punctuation">(</span><span class="token string">"INT"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">RESISTANCE</span><span class="token punctuation">(</span><span class="token string">"RES"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">LUCK</span><span class="token punctuation">(</span><span class="token string">"SUE"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">SPEED</span><span class="token punctuation">(</span><span class="token string">"VEL"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
        <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    
        <span class="token class-name">Stats</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">return</span> name<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Stats</span> <span class="token function">getStat</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Stats</span> stat <span class="token operator">:</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>stat<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">return</span> stat<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllegalArgumentException</span><span class="token punctuation">(</span><span class="token string">"Invalid stat: "</span> <span class="token operator">+</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="implementacion-de-clase-rookiegoblin" tabindex="-1"><a class="header-anchor" href="#implementacion-de-clase-rookiegoblin"><span>Implementación de clase <code v-pre>RookieGoblin</code></span></a></h2>
<div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre v-pre class="language-java"><code>    <span class="token keyword">package</span> <span class="token namespace">enemies<span class="token punctuation">.</span>goblins</span><span class="token punctuation">;</span>
    
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">enemies<span class="token punctuation">.</span></span><span class="token class-name">Enemy</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">game<span class="token punctuation">.</span>exceptions<span class="token punctuation">.</span></span><span class="token class-name">EnemyDeadException</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">game<span class="token punctuation">.</span>exceptions<span class="token punctuation">.</span></span><span class="token class-name">ZeroException</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">gui_old<span class="token punctuation">.</span>panels<span class="token punctuation">.</span></span><span class="token class-name">CharactersPanel</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">gui_old<span class="token punctuation">.</span>panels<span class="token punctuation">.</span></span><span class="token class-name">DialogPanel</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">items<span class="token punctuation">.</span>misc<span class="token punctuation">.</span></span><span class="token class-name">GoblinEar</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">items<span class="token punctuation">.</span>weapons<span class="token punctuation">.</span>blades<span class="token punctuation">.</span></span><span class="token class-name">WoodBlade</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jetbrains<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">NotNull</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">player<span class="token punctuation">.</span></span><span class="token class-name">Player</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">player<span class="token punctuation">.</span></span><span class="token class-name">Stats</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">util<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">RegularEnemy</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">util<span class="token punctuation">.</span>interfaces<span class="token punctuation">.</span></span><span class="token class-name">Randomized</span></span><span class="token punctuation">;</span>
    
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>swing<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
    
    <span class="token doc-comment comment">/**
     * La clase RookieGoblin es una subclase de la clase Enemy. Es un enemigo básico que el jugador puede encontrar en el juego.
     * Tiene un método de ataque único que le permite realizar una de tres acciones: plainAttack, runAway, or stealGold.
     * El método plainAttack permite al RookieGoblin atacar al jugador e infligir una cantidad determinada de daño.
     * El método runAway permite al RookieGoblin huir de la batalla.
     * El método stealGold permite al RookieGoblin robar una cantidad determinada de oro del jugador.
     */</span>
    <span class="token annotation punctuation">@RegularEnemy</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RookieGoblin</span> <span class="token keyword">extends</span> <span class="token class-name">Enemy</span> <span class="token punctuation">{</span>
    
        <span class="token doc-comment comment">/**
         * Constructor de la clase RookieGoblin.
         */</span>
        <span class="token keyword">public</span> <span class="token class-name">RookieGoblin</span><span class="token punctuation">(</span><span class="token class-name">Player</span> player<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">super</span><span class="token punctuation">(</span>player<span class="token punctuation">,</span> <span class="token string">"D. Novato"</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            image <span class="token operator">=</span> imageManager<span class="token punctuation">.</span><span class="token function">getImage</span><span class="token punctuation">(</span><span class="token string">"rookieGoblin"</span><span class="token punctuation">,</span>
                    <span class="token keyword">new</span> <span class="token class-name">ImageIcon</span><span class="token punctuation">(</span><span class="token string">"img\\enemies\\goblins\\rookieGoblin.png"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            stats<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">ATTACK</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            stats<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">DEFENSE</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            stats<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">LUCK</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            stats<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">SPEED</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            stats<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">DEXTERITY</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token doc-comment comment">/**
         * Función que permite al RookieGoblin atacar al jugador.
         *
         * <span class="token keyword">@param</span> <span class="token parameter">player</span> Jugador al que se le ataca.
         *
         * <span class="token keyword">@throws</span> <span class="token reference"><span class="token class-name">EnemyDeadException</span></span> Excepción que se lanza si el enemigo está muerto.
         */</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">attack</span><span class="token punctuation">(</span><span class="token class-name">Player</span> player<span class="token punctuation">,</span> <span class="token class-name">CharactersPanel</span> panel<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">EnemyDeadException</span> <span class="token punctuation">{</span>
    
            <span class="token class-name">String</span> message <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isDead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
                <span class="token keyword">double</span> plainAttackProbability <span class="token operator">=</span> <span class="token number">0.5</span><span class="token punctuation">;</span>
                <span class="token keyword">double</span> runAwayProbability <span class="token operator">=</span> <span class="token number">0.2</span><span class="token punctuation">;</span>
                <span class="token keyword">double</span> stealGoldProbability <span class="token operator">=</span> <span class="token number">0.3</span><span class="token punctuation">;</span>
                <span class="token keyword">double</span> totalProbability <span class="token operator">=</span> plainAttackProbability <span class="token operator">+</span> runAwayProbability <span class="token operator">+</span> stealGoldProbability<span class="token punctuation">;</span>
                <span class="token keyword">double</span> ratio <span class="token operator">=</span> <span class="token class-name">Randomized</span><span class="token punctuation">.</span><span class="token function">randomizeDouble</span><span class="token punctuation">(</span>totalProbability<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">// plainAttackProbability = 50%, runAwayProbability = 20%, stealGoldProbability = 30%</span>
                <span class="token comment">// plainAttackProbability + runAwayProbability + stealGoldProbability = 100%</span>
                <span class="token comment">// ratio = 0.0 - 0.5 -> plainAttack, ratio = 0.51 - 0.8 -> stealGold, ratio = 0.81 - 1.0 -> runAway</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>ratio <span class="token operator">&lt;=</span> plainAttackProbability<span class="token punctuation">)</span> message <span class="token operator">=</span> <span class="token function">plainAttack</span><span class="token punctuation">(</span>player<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>ratio <span class="token operator">&lt;=</span> plainAttackProbability <span class="token operator">+</span> stealGoldProbability<span class="token punctuation">)</span> message <span class="token operator">=</span> <span class="token function">stealGold</span><span class="token punctuation">(</span>player<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">else</span> message <span class="token operator">=</span> <span class="token function">runAway</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">EnemyDeadException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">DialogPanel</span><span class="token punctuation">)</span> panel<span class="token punctuation">.</span><span class="token function">getDialogPanel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token doc-comment comment">/**
         * Función que permite al RookieGoblin soltar un objeto al morir.
         *
         * <span class="token keyword">@param</span> <span class="token parameter">player</span> Jugador al que se le suelta el objeto.
         */</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">dropItem</span><span class="token punctuation">(</span><span class="token class-name">Player</span> player<span class="token punctuation">,</span> <span class="token class-name">CharactersPanel</span> panel<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">int</span> ratio <span class="token operator">=</span> <span class="token class-name">Randomized</span><span class="token punctuation">.</span><span class="token function">randomizeNumber</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            player<span class="token punctuation">.</span><span class="token function">getInventory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addItem</span><span class="token punctuation">(</span>ratio <span class="token operator">></span> <span class="token number">50</span> <span class="token operator">?</span> <span class="token keyword">new</span> <span class="token class-name">WoodBlade</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">GoblinEar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token class-name">DialogPanel</span><span class="token punctuation">)</span> panel<span class="token punctuation">.</span><span class="token function">getDialogPanel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token doc-comment comment">/**
         * Función que permite al RookieGoblin atacar al jugador.
         *
         * <span class="token keyword">@param</span> <span class="token parameter">player</span> Jugador al que se le ataca.
         */</span>
        <span class="token keyword">private</span> <span class="token class-name">String</span> <span class="token function">plainAttack</span><span class="token punctuation">(</span><span class="token annotation punctuation">@NotNull</span> <span class="token class-name">Player</span> player<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">int</span> damage <span class="token operator">=</span> <span class="token function">getDamage</span><span class="token punctuation">(</span>player<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> message <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"¡%s ataca con %d punto(s) de daño!\n"</span><span class="token punctuation">,</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> damage<span class="token punctuation">)</span><span class="token punctuation">;</span>
            message <span class="token operator">+=</span> player<span class="token punctuation">.</span><span class="token function">takeDamage</span><span class="token punctuation">(</span>damage<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> message<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token doc-comment comment">/**
         * Función que permite al RookieGoblin huir de la batalla.
         */</span>
        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">runAway</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">this</span><span class="token punctuation">.</span>hp <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token string">"¡El Duende novato huye de la batalla!\n"</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token doc-comment comment">/**
         * Función que permite al RookieGoblin robar oro del jugador.
         *
         * <span class="token keyword">@param</span> <span class="token parameter">player</span> Jugador al que se le roba el oro.
         */</span>
        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">stealGold</span><span class="token punctuation">(</span><span class="token annotation punctuation">@NotNull</span> <span class="token class-name">Player</span> player<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token class-name">String</span> message <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                <span class="token keyword">int</span> minus <span class="token operator">=</span> player<span class="token punctuation">.</span><span class="token function">getGold</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">5</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>minus <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
                    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">ZeroException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                player<span class="token punctuation">.</span><span class="token function">setGold</span><span class="token punctuation">(</span>minus<span class="token punctuation">)</span><span class="token punctuation">;</span>
                message <span class="token operator">+=</span> <span class="token string">"¡El Duende novato roba 5 de oro!\n"</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ZeroException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                player<span class="token punctuation">.</span><span class="token function">setGold</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                message <span class="token operator">+=</span> <span class="token string">"¡El Duende novato roba todo el oro del jugador!\n"</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> message<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="implementacion-de-la-clase-alonewolf" tabindex="-1"><a class="header-anchor" href="#implementacion-de-la-clase-alonewolf"><span>Implementación de la clase <code v-pre>AloneWolf</code></span></a></h2>
<div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre v-pre class="language-java"><code>    <span class="token keyword">package</span> <span class="token namespace">enemies<span class="token punctuation">.</span>wolfs</span><span class="token punctuation">;</span>
    
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">enemies<span class="token punctuation">.</span></span><span class="token class-name">Enemy</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">game<span class="token punctuation">.</span>exceptions<span class="token punctuation">.</span></span><span class="token class-name">EnemyDeadException</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">gui_old<span class="token punctuation">.</span>panels<span class="token punctuation">.</span></span><span class="token class-name">CharactersPanel</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">gui_old<span class="token punctuation">.</span>panels<span class="token punctuation">.</span></span><span class="token class-name">DialogPanel</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">items<span class="token punctuation">.</span>armors<span class="token punctuation">.</span>head<span class="token punctuation">.</span></span><span class="token class-name">WoodHelmet</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">items<span class="token punctuation">.</span>misc<span class="token punctuation">.</span></span><span class="token class-name">WolfFur</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">player<span class="token punctuation">.</span></span><span class="token class-name">Player</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">player<span class="token punctuation">.</span></span><span class="token class-name">Stats</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">util<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">RegularEnemy</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">util<span class="token punctuation">.</span>interfaces<span class="token punctuation">.</span></span><span class="token class-name">Randomized</span></span><span class="token punctuation">;</span>
    
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>swing<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
    
    <span class="token doc-comment comment">/**
     * La clase AloneWolf es una subclase de la clase Enemy. Es un enemigo básico que el jugador puede encontrar en el juego.
     * Tiene un método de ataque único que le permite realizar una de tres acciones: simpleAttack, howl, or bite.
     * El método simpleAttack permite que AloneWolf ataque al jugador con una cantidad determinada de daño.
     * El método howl permite que AloneWolf aúlle.
     * El método bite permite que AloneWolf muerda al jugador provocando una cantidad determinada de daño.
     */</span>
    <span class="token annotation punctuation">@RegularEnemy</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AloneWolf</span> <span class="token keyword">extends</span> <span class="token class-name">Enemy</span> <span class="token punctuation">{</span>
    
        <span class="token doc-comment comment">/**
         * Constructor de la clase Lobo solitario.
         */</span>
        <span class="token keyword">public</span> <span class="token class-name">AloneWolf</span><span class="token punctuation">(</span><span class="token class-name">Player</span> player<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">super</span><span class="token punctuation">(</span>player<span class="token punctuation">,</span> <span class="token string">"Lobo Solitario"</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            image <span class="token operator">=</span> imageManager<span class="token punctuation">.</span><span class="token function">getImage</span><span class="token punctuation">(</span><span class="token string">"aloneWolf"</span><span class="token punctuation">,</span>
                    <span class="token keyword">new</span> <span class="token class-name">ImageIcon</span><span class="token punctuation">(</span><span class="token string">"img\\enemies\\wolfs\\aloneWolf.png"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            stats<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">ATTACK</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            stats<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">DEFENSE</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            stats<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">LUCK</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            stats<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">SPEED</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            stats<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">DEXTERITY</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token doc-comment comment">/**
         * Función que permite al lobo solitario atacar al jugador.
         *
         * <span class="token keyword">@param</span> <span class="token parameter">player</span> Jugador al que se le ataca.
         */</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">attack</span><span class="token punctuation">(</span><span class="token class-name">Player</span> player<span class="token punctuation">,</span> <span class="token class-name">CharactersPanel</span> panel<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">EnemyDeadException</span> <span class="token punctuation">{</span>
    
            <span class="token class-name">String</span> message<span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isDead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
                <span class="token keyword">double</span> simpleAttackProbability <span class="token operator">=</span> <span class="token number">0.5</span><span class="token punctuation">;</span>
                <span class="token keyword">double</span> howlProbability <span class="token operator">=</span> <span class="token number">0.3</span><span class="token punctuation">;</span>
                <span class="token keyword">double</span> biteProbability <span class="token operator">=</span> <span class="token number">0.2</span><span class="token punctuation">;</span>
                <span class="token keyword">double</span> totalProbability <span class="token operator">=</span> simpleAttackProbability <span class="token operator">+</span> howlProbability <span class="token operator">+</span> biteProbability<span class="token punctuation">;</span>
                <span class="token keyword">double</span> ratio <span class="token operator">=</span> <span class="token class-name">Randomized</span><span class="token punctuation">.</span><span class="token function">randomizeDouble</span><span class="token punctuation">(</span>totalProbability<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">// simpleAttackProbability = 50%, howlProbability = 30%, biteProbability = 20%</span>
                <span class="token comment">// simpleAttackProbability + howlProbability + biteProbability = 100%</span>
                <span class="token comment">// ratio = 0.0 - 0.5 -> simpleAttack, ratio = 0.51 - 0.7 -> bite, ratio = 0.71 - 1.0 -> howl</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>ratio <span class="token operator">&lt;=</span> simpleAttackProbability<span class="token punctuation">)</span> message <span class="token operator">=</span> <span class="token function">simpleAttack</span><span class="token punctuation">(</span>player<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>ratio <span class="token operator">&lt;=</span> simpleAttackProbability <span class="token operator">+</span> biteProbability<span class="token punctuation">)</span> message <span class="token operator">=</span> <span class="token function">bite</span><span class="token punctuation">(</span>player<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">else</span> message <span class="token operator">=</span> <span class="token function">howl</span><span class="token punctuation">(</span>player<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">EnemyDeadException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token class-name">DialogPanel</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token doc-comment comment">/**
         * Función que permite al lobo solitario soltar un objeto al morir.
         *
         * <span class="token keyword">@param</span> <span class="token parameter">player</span> Jugador al que se le suelta el objeto.
         */</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">dropItem</span><span class="token punctuation">(</span><span class="token class-name">Player</span> player<span class="token punctuation">,</span> <span class="token class-name">CharactersPanel</span> panel<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">getLevel</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
                <span class="token keyword">int</span> ratio <span class="token operator">=</span> <span class="token class-name">Randomized</span><span class="token punctuation">.</span><span class="token function">randomizeNumber</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                player<span class="token punctuation">.</span><span class="token function">getInventory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addItem</span><span class="token punctuation">(</span>ratio <span class="token operator">></span> <span class="token number">65</span> <span class="token operator">?</span> <span class="token keyword">new</span> <span class="token class-name">WoodHelmet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">WolfFur</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token class-name">DialogPanel</span><span class="token punctuation">)</span> panel<span class="token punctuation">.</span><span class="token function">getDialogPanel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                player<span class="token punctuation">.</span><span class="token function">getInventory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addItem</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">WolfFur</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token class-name">DialogPanel</span><span class="token punctuation">)</span> panel<span class="token punctuation">.</span><span class="token function">getDialogPanel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    
        <span class="token doc-comment comment">/**
         * Función que permite al lobo solitario atacar.
         *
         * <span class="token keyword">@param</span> <span class="token parameter">player</span> Jugador al que se le ataca.
         */</span>
        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">simpleAttack</span><span class="token punctuation">(</span><span class="token class-name">Player</span> player<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">int</span> damage <span class="token operator">=</span> <span class="token function">getDamage</span><span class="token punctuation">(</span>player<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> message <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"¡%s ataca con %d punto(s) de daño!\n"</span><span class="token punctuation">,</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> damage<span class="token punctuation">)</span><span class="token punctuation">;</span>
            message <span class="token operator">+=</span> player<span class="token punctuation">.</span><span class="token function">takeDamage</span><span class="token punctuation">(</span>damage<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> message<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token doc-comment comment">/**
         * Función que permite al lobo solitario aullar.
         *
         * <span class="token keyword">@param</span> <span class="token parameter">player</span> Jugador al que se le aúlla.
         */</span>
        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">howl</span><span class="token punctuation">(</span><span class="token class-name">Player</span> player<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token comment">//TODO: Implementar efecto de aullido.</span>
            <span class="token keyword">return</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"¡%s aúlla!\n"</span><span class="token punctuation">,</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token doc-comment comment">/**
         * Función que permite al lobo lanzar una mordida poderosa.
         *
         * <span class="token keyword">@param</span> <span class="token parameter">player</span> Jugador al que se le muerde.
         */</span>
        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">bite</span><span class="token punctuation">(</span><span class="token class-name">Player</span> player<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">int</span> totalDamage <span class="token operator">=</span> <span class="token function">getAdjustedAttack</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> message <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"¡%s muerde con %d punto(s) de daño!\n"</span><span class="token punctuation">,</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> totalDamage<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> message <span class="token operator">+</span> player<span class="token punctuation">.</span><span class="token function">takeDamage</span><span class="token punctuation">(</span>totalDamage<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div></template>


