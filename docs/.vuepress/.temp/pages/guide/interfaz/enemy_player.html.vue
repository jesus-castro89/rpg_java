<template><div><h1 id="el-enemigo-y-el-jugador" tabindex="-1"><a class="header-anchor" href="#el-enemigo-y-el-jugador"><span>El enemigo y el jugador</span></a></h1>
<p>Hasta ahora emos tratado al enemigo y al jugador como clases que interactuaban de una manera un tanto primitiva. En este
capítulo vamos a mejorar la interacción entre ambos.</p>
<h2 id="el-enemigo" tabindex="-1"><a class="header-anchor" href="#el-enemigo"><span>El enemigo</span></a></h2>
<p>El enemigo es un personaje que interactúa con el jugador mediante ataque aleatorios de un pool de movimientos propios;
sin embargo, los ataques y la interacción sucedían en ventanas emergentes, por lo que ahora con la nueva interfaz, esto
ya es un tanto primitivo, es por ello que nuestro enemigo ahora se debe de ver de la siguiente manera:</p>
<div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre v-pre class="language-java"><code>    <span class="token keyword">package</span> <span class="token namespace">enemies</span><span class="token punctuation">;</span>
    
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">characters<span class="token punctuation">.</span></span><span class="token class-name">BasicCharacter</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">game<span class="token punctuation">.</span>exceptions<span class="token punctuation">.</span></span><span class="token class-name">EnemyDeadException</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">gui<span class="token punctuation">.</span>panels<span class="token punctuation">.</span></span><span class="token class-name">CharactersPanel</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">gui<span class="token punctuation">.</span>panels<span class="token punctuation">.</span></span><span class="token class-name">DialogPanel</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">player<span class="token punctuation">.</span></span><span class="token class-name">Player</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">player<span class="token punctuation">.</span></span><span class="token class-name">Stats</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">util<span class="token punctuation">.</span>interfaces<span class="token punctuation">.</span></span><span class="token class-name">Randomized</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">util<span class="token punctuation">.</span>managers<span class="token punctuation">.</span></span><span class="token class-name">ImageManager</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">util<span class="token punctuation">.</span>interfaces<span class="token punctuation">.</span></span><span class="token class-name">Interactive</span></span><span class="token punctuation">;</span>
    
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashMap</span></span><span class="token punctuation">;</span>
    
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Enemy</span> <span class="token keyword">extends</span> <span class="token class-name">BasicCharacter</span> <span class="token punctuation">{</span>
    
        <span class="token keyword">protected</span> <span class="token keyword">final</span> <span class="token keyword">int</span> adjustmentFactor <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
        <span class="token keyword">protected</span> <span class="token keyword">final</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
        <span class="token keyword">protected</span> <span class="token keyword">final</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Stats</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">></span></span> stats <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">protected</span> <span class="token keyword">final</span> <span class="token keyword">int</span> gold<span class="token punctuation">;</span>
        <span class="token keyword">protected</span> <span class="token keyword">final</span> <span class="token keyword">int</span> experience<span class="token punctuation">;</span>
        <span class="token keyword">protected</span> <span class="token keyword">final</span> <span class="token keyword">int</span> level<span class="token punctuation">;</span>
        <span class="token keyword">protected</span> <span class="token keyword">final</span> <span class="token keyword">int</span> maxLevel<span class="token punctuation">;</span>
        <span class="token keyword">protected</span> <span class="token class-name">Image</span> image<span class="token punctuation">;</span>
        <span class="token keyword">protected</span> <span class="token keyword">final</span> <span class="token class-name">ImageManager</span> imageManager <span class="token operator">=</span> <span class="token class-name">ImageManager</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">protected</span> <span class="token keyword">final</span> <span class="token class-name">Player</span> player<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> <span class="token constant">BASE_LEVEL</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    
        <span class="token keyword">public</span> <span class="token class-name">Enemy</span><span class="token punctuation">(</span><span class="token class-name">Player</span> player<span class="token punctuation">,</span> <span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token keyword">int</span> maxLevel<span class="token punctuation">,</span> <span class="token keyword">int</span> health<span class="token punctuation">,</span> <span class="token keyword">int</span> gold<span class="token punctuation">,</span> <span class="token keyword">int</span> experience<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> health<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>player <span class="token operator">=</span> player<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>maxLevel <span class="token operator">=</span> maxLevel<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>level <span class="token operator">=</span> <span class="token function">getLevel</span><span class="token punctuation">(</span>player<span class="token punctuation">,</span> maxLevel<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>maxHp <span class="token operator">=</span> <span class="token function">getHealth</span><span class="token punctuation">(</span>health<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>hp <span class="token operator">=</span> maxHp<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>gold <span class="token operator">=</span> <span class="token function">getGold</span><span class="token punctuation">(</span>gold<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>experience <span class="token operator">=</span> <span class="token function">getExperience</span><span class="token punctuation">(</span>experience<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token function">getExperience</span><span class="token punctuation">(</span><span class="token keyword">int</span> experience<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">return</span> <span class="token class-name">Randomized</span><span class="token punctuation">.</span><span class="token function">randomizeNumber</span><span class="token punctuation">(</span>experience<span class="token punctuation">,</span> experience <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">*</span> level<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token function">getGold</span><span class="token punctuation">(</span><span class="token keyword">int</span> gold<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">return</span> <span class="token class-name">Randomized</span><span class="token punctuation">.</span><span class="token function">randomizeNumber</span><span class="token punctuation">(</span>gold<span class="token punctuation">,</span> gold <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">*</span> level<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token function">getHealth</span><span class="token punctuation">(</span><span class="token keyword">int</span> health<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token class-name">Randomized</span><span class="token punctuation">.</span><span class="token function">randomizeNumber</span><span class="token punctuation">(</span>health<span class="token punctuation">,</span> health <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> level<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">protected</span> <span class="token keyword">int</span> <span class="token function">getDefense</span><span class="token punctuation">(</span><span class="token class-name">Player</span> player<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">int</span> defense <span class="token operator">=</span> <span class="token function">getAdjustedDefense</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>stats<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">LUCK</span><span class="token punctuation">)</span> <span class="token operator">></span> player<span class="token punctuation">.</span><span class="token function">getDexterity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">//TODO: Implementar críticos</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> defense<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getAdjustedAttack</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">int</span> adjustedAttack <span class="token operator">=</span> stats<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">ATTACK</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>player<span class="token punctuation">.</span><span class="token function">getLevel</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token constant">BASE_LEVEL</span><span class="token punctuation">)</span> <span class="token operator">*</span> adjustmentFactor<span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>adjustedAttack <span class="token operator">&lt;</span> player<span class="token punctuation">.</span><span class="token function">getDefense</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
                adjustedAttack <span class="token operator">=</span> player<span class="token punctuation">.</span><span class="token function">getDefense</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> adjustmentFactor<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> adjustedAttack<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getAdjustedDefense</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">int</span> adjustedDefense <span class="token operator">=</span> stats<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">DEFENSE</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>player<span class="token punctuation">.</span><span class="token function">getLevel</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token constant">BASE_LEVEL</span><span class="token punctuation">)</span> <span class="token operator">*</span> adjustmentFactor<span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>adjustedDefense <span class="token operator">></span> player<span class="token punctuation">.</span><span class="token function">getDamage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
                adjustedDefense <span class="token operator">=</span> player<span class="token punctuation">.</span><span class="token function">getDamage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> adjustmentFactor<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> adjustedDefense<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">protected</span> <span class="token keyword">int</span> <span class="token function">getDamage</span><span class="token punctuation">(</span><span class="token class-name">Player</span> player<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">int</span> damage <span class="token operator">=</span> <span class="token function">getAdjustedAttack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>stats<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">DEXTERITY</span><span class="token punctuation">)</span> <span class="token operator">></span> player<span class="token punctuation">.</span><span class="token function">getLuck</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
                <span class="token comment">//TODO: Implementar críticos</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> damage<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token function">getLevel</span><span class="token punctuation">(</span><span class="token class-name">Player</span> player<span class="token punctuation">,</span> <span class="token keyword">int</span> maxLevel<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">return</span> player<span class="token punctuation">.</span><span class="token function">getLevel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getLuck</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">return</span> stats<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">LUCK</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token class-name">Image</span> <span class="token function">getImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">return</span> image<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token class-name">ImageManager</span> <span class="token function">getImageManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">return</span> imageManager<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getLevel</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">return</span> level<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getMaxLevel</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">return</span> maxLevel<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">return</span> name<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getGold</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">return</span> gold<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getExperience</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">return</span> experience<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">calculateDamage</span><span class="token punctuation">(</span><span class="token class-name">Player</span> player<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">return</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>player<span class="token punctuation">.</span><span class="token function">getDamage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">getDefense</span><span class="token punctuation">(</span>player<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">calculateDamage</span><span class="token punctuation">(</span><span class="token class-name">Player</span> player<span class="token punctuation">,</span> <span class="token keyword">int</span> damage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">return</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>damage <span class="token operator">-</span> <span class="token function">getDefense</span><span class="token punctuation">(</span>player<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">takeDamage</span><span class="token punctuation">(</span><span class="token class-name">Player</span> player<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">int</span> damage <span class="token operator">=</span> <span class="token function">calculateDamage</span><span class="token punctuation">(</span>player<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> message <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"¡%s ataca con %d punto(s) de daño!\n"</span><span class="token punctuation">,</span> player<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> player<span class="token punctuation">.</span><span class="token function">getDamage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            message <span class="token operator">+=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"¡%s sufre %d punto(s) de daño!\n"</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> damage<span class="token punctuation">)</span><span class="token punctuation">;</span>
            hp <span class="token operator">-=</span> damage<span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isDead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                message <span class="token operator">+=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"¡%s ha sido derrotado!\n"</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> message<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">takeDamage</span><span class="token punctuation">(</span><span class="token class-name">Player</span> player<span class="token punctuation">,</span> <span class="token keyword">int</span> damage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">int</span> finalDamage <span class="token operator">=</span> <span class="token function">calculateDamage</span><span class="token punctuation">(</span>player<span class="token punctuation">,</span> damage<span class="token punctuation">)</span><span class="token punctuation">;</span>
            hp <span class="token operator">-=</span> finalDamage<span class="token punctuation">;</span>
            <span class="token class-name">String</span> message <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"¡%s ataca con %d punto(s) de daño!\n"</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> damage<span class="token punctuation">)</span><span class="token punctuation">;</span>
            message <span class="token operator">+=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"¡%s sufre %d punto(s) de daño!\n"</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> finalDamage<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isDead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                message <span class="token operator">+=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"¡%s ha sido derrotado!\n"</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> message<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">attack</span><span class="token punctuation">(</span><span class="token class-name">Player</span> player<span class="token punctuation">,</span> <span class="token class-name">CharactersPanel</span> panel<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">EnemyDeadException</span><span class="token punctuation">;</span>
    
        <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">dropItem</span><span class="token punctuation">(</span><span class="token class-name">Player</span> player<span class="token punctuation">,</span> <span class="token class-name">CharactersPanel</span> panel<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
        <span class="token keyword">public</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Stats</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">></span></span> <span class="token function">getStats</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">return</span> stats<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>En este caso, el enemigo ahora tiene una interacción más directa con el jugador, ya que ahora el enemigo puede atacar al
jugador directamente, sin necesidad de ventanas emergentes, además de que ahora el enemigo puede dejar caer objetos al
jugador, lo que hace que la interacción sea más directa y menos primitiva.</p>
<p>Es importante mencionar que algunas clases como el CharactersPanel son componentes que veremos en este capítulo, por lo
que no se explicarán en este apartado, pero sí en los siguientes.</p>
<h2 id="el-jugador" tabindex="-1"><a class="header-anchor" href="#el-jugador"><span>El jugador</span></a></h2>
<p>El jugador también ha sido actualizado, ya que ahora el jugador puede atacar al enemigo directamente, sin necesidad de
ventanas emergentes, además de que ahora el jugador puede recibir daño directamente del enemigo, lo que hace que la
interacción sea más directa y menos primitiva.</p>
<div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre v-pre class="language-java"><code>    <span class="token keyword">package</span> <span class="token namespace">player</span><span class="token punctuation">;</span>
    
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">characters<span class="token punctuation">.</span></span><span class="token class-name">BasicCharacter</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">enemies<span class="token punctuation">.</span></span><span class="token class-name">Enemy</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">game<span class="token punctuation">.</span>exceptions<span class="token punctuation">.</span></span><span class="token class-name">PlayerDeathException</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">gui<span class="token punctuation">.</span>game<span class="token punctuation">.</span></span><span class="token class-name">GameWindow</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">gui<span class="token punctuation">.</span>panels<span class="token punctuation">.</span></span><span class="token class-name">ActionsPanel</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">gui<span class="token punctuation">.</span>panels<span class="token punctuation">.</span></span><span class="token class-name">CharactersPanel</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">gui<span class="token punctuation">.</span>panels<span class="token punctuation">.</span></span><span class="token class-name">DialogPanel</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">gui<span class="token punctuation">.</span>panels<span class="token punctuation">.</span></span><span class="token class-name">StatusPanel</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">items<span class="token punctuation">.</span>armors<span class="token punctuation">.</span></span><span class="token class-name">Armor</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">items<span class="token punctuation">.</span>weapons<span class="token punctuation">.</span></span><span class="token class-name">Weapon</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jetbrains<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">NotNull</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">player<span class="token punctuation">.</span>jobs<span class="token punctuation">.</span></span><span class="token class-name">Job</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">player<span class="token punctuation">.</span>skills<span class="token punctuation">.</span></span><span class="token class-name">BasicHeal</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">player<span class="token punctuation">.</span>skills<span class="token punctuation">.</span></span><span class="token class-name">FuryAttack</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">player<span class="token punctuation">.</span>skills<span class="token punctuation">.</span></span><span class="token class-name">Skill</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">util<span class="token punctuation">.</span>interfaces<span class="token punctuation">.</span></span><span class="token class-name">Interactive</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">util<span class="token punctuation">.</span>interfaces<span class="token punctuation">.</span></span><span class="token class-name">Randomized</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">util<span class="token punctuation">.</span>managers<span class="token punctuation">.</span></span><span class="token class-name">ImageManager</span></span><span class="token punctuation">;</span>
    
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>swing<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">Serializable</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashMap</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span></span><span class="token punctuation">;</span>
    
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Player</span> <span class="token keyword">extends</span> <span class="token class-name">BasicCharacter</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span> <span class="token punctuation">{</span>
    
        <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Player</span> instance<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token keyword">int</span> strength<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token keyword">int</span> defense<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token keyword">int</span> intelligence<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token keyword">int</span> dexterity<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token keyword">int</span> luck<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token keyword">int</span> resistance<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token keyword">int</span> speed<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token keyword">int</span> experience<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token keyword">int</span> level<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token keyword">int</span> gold<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token class-name">Weapon</span> weapon<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token class-name">Armor</span> headArmor<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token class-name">Armor</span> chestArmor<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token class-name">Armor</span> legArmor<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token class-name">Armor</span> footArmor<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token class-name">Armor</span> handArmor<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">Inventory</span> inventory<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Skill</span><span class="token punctuation">></span></span> skillMap<span class="token punctuation">;</span>
    
        <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Player</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">if</span> <span class="token punctuation">(</span>instance <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
                instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Player</span><span class="token punctuation">(</span><span class="token string">"Juanito"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">// instance = new Player(JOptionPane.showInputDialog("Ingresa el Nombre del Jugador"));</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> instance<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">private</span> <span class="token class-name">Player</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            experience <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            level <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
            gold <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            weapon <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
            headArmor <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
            chestArmor <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
            legArmor <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
            footArmor <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
            handArmor <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
            strength <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
            defense <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
            <span class="token function">randomizeStats</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            inventory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Inventory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            skillMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            skillMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">BasicHeal</span><span class="token punctuation">.</span><span class="token constant">NAME</span><span class="token punctuation">,</span> <span class="token class-name">BasicHeal</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            skillMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">FuryAttack</span><span class="token punctuation">.</span><span class="token constant">NAME</span><span class="token punctuation">,</span> <span class="token class-name">FuryAttack</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">return</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"%s - Nivel %d"</span><span class="token punctuation">,</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> level<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">randomizeStats</span><span class="token punctuation">(</span><span class="token keyword">int</span> maxPoints<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">int</span> stat <span class="token operator">=</span> <span class="token class-name">Randomized</span><span class="token punctuation">.</span><span class="token function">randomizeNumber</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>maxPoints <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">switch</span> <span class="token punctuation">(</span>stat<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">case</span> <span class="token number">1</span> <span class="token operator">-></span> <span class="token punctuation">{</span>
                        <span class="token keyword">if</span> <span class="token punctuation">(</span>strength <span class="token operator">&lt;</span> <span class="token punctuation">(</span>level <span class="token operator">*</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span> strength<span class="token operator">++</span><span class="token punctuation">;</span>
                        <span class="token keyword">else</span> maxPoints<span class="token operator">++</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                    <span class="token keyword">case</span> <span class="token number">2</span> <span class="token operator">-></span> <span class="token punctuation">{</span>
                        <span class="token keyword">if</span> <span class="token punctuation">(</span>defense <span class="token operator">&lt;</span> <span class="token punctuation">(</span>level <span class="token operator">*</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span> defense<span class="token operator">++</span><span class="token punctuation">;</span>
                        <span class="token keyword">else</span> maxPoints<span class="token operator">++</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                    <span class="token keyword">case</span> <span class="token number">3</span> <span class="token operator">-></span> intelligence<span class="token operator">++</span><span class="token punctuation">;</span>
                    <span class="token keyword">case</span> <span class="token number">4</span> <span class="token operator">-></span> dexterity<span class="token operator">++</span><span class="token punctuation">;</span>
                    <span class="token keyword">case</span> <span class="token number">5</span> <span class="token operator">-></span> luck<span class="token operator">++</span><span class="token punctuation">;</span>
                    <span class="token keyword">case</span> <span class="token number">6</span> <span class="token operator">-></span> resistance<span class="token operator">++</span><span class="token punctuation">;</span>
                    <span class="token keyword">case</span> <span class="token number">7</span> <span class="token operator">-></span> speed<span class="token operator">++</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                maxPoints<span class="token operator">--</span><span class="token punctuation">;</span>
                stat <span class="token operator">=</span> <span class="token class-name">Randomized</span><span class="token punctuation">.</span><span class="token function">randomizeNumber</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">equipWeapon</span><span class="token punctuation">(</span><span class="token class-name">Weapon</span> weapon<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">this</span><span class="token punctuation">.</span>weapon <span class="token operator">=</span> weapon<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">equipArmor</span><span class="token punctuation">(</span><span class="token class-name">Armor</span> armor<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">switch</span> <span class="token punctuation">(</span>armor<span class="token punctuation">.</span><span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">case</span> <span class="token constant">HEAD</span> <span class="token operator">-></span> headArmor <span class="token operator">=</span> armor<span class="token punctuation">;</span>
                <span class="token keyword">case</span> <span class="token constant">CHEST</span> <span class="token operator">-></span> chestArmor <span class="token operator">=</span> armor<span class="token punctuation">;</span>
                <span class="token keyword">case</span> <span class="token constant">LEGS</span> <span class="token operator">-></span> legArmor <span class="token operator">=</span> armor<span class="token punctuation">;</span>
                <span class="token keyword">case</span> <span class="token constant">FEET</span> <span class="token operator">-></span> footArmor <span class="token operator">=</span> armor<span class="token punctuation">;</span>
                <span class="token keyword">case</span> <span class="token constant">HANDS</span> <span class="token operator">-></span> handArmor <span class="token operator">=</span> armor<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">revive</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            hp <span class="token operator">=</span> maxHp<span class="token punctuation">;</span>
            mp <span class="token operator">=</span> maxMp<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">attack</span><span class="token punctuation">(</span><span class="token annotation punctuation">@NotNull</span> <span class="token class-name">Enemy</span> enemy<span class="token punctuation">,</span> <span class="token class-name">CharactersPanel</span> panel<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">PlayerDeathException</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isDead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
                <span class="token class-name">DialogPanel</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span> enemy<span class="token punctuation">.</span><span class="token function">takeDamage</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>enemy<span class="token punctuation">.</span><span class="token function">isDead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token function">getRewards</span><span class="token punctuation">(</span>enemy<span class="token punctuation">,</span> panel<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">PlayerDeathException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">getRewards</span><span class="token punctuation">(</span><span class="token annotation punctuation">@NotNull</span> <span class="token class-name">Enemy</span> enemy<span class="token punctuation">,</span> <span class="token class-name">CharactersPanel</span> panel<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token class-name">String</span> message <span class="token operator">=</span> <span class="token function">gainExperience</span><span class="token punctuation">(</span>enemy<span class="token punctuation">.</span><span class="token function">getExperience</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            message <span class="token operator">+=</span> <span class="token function">gainGold</span><span class="token punctuation">(</span>enemy<span class="token punctuation">.</span><span class="token function">getGold</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">DialogPanel</span><span class="token punctuation">)</span> panel<span class="token punctuation">.</span><span class="token function">getDialogPanel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
            enemy<span class="token punctuation">.</span><span class="token function">dropItem</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> panel<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">StatusPanel</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token class-name">ActionsPanel</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> panel<span class="token punctuation">.</span><span class="token function">getPlayer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getActualHp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">return</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"%d/%d"</span><span class="token punctuation">,</span> <span class="token function">getHp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">getMaxHp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getActualMp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">return</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"%d/%d"</span><span class="token punctuation">,</span> <span class="token function">getMp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">getMaxMp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token function">getWeaponStat</span><span class="token punctuation">(</span><span class="token class-name">Weapon</span> weapon<span class="token punctuation">,</span> <span class="token class-name">Stats</span> stat<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">return</span> weapon <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> weapon<span class="token punctuation">.</span><span class="token function">getStats</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span>stat<span class="token punctuation">)</span> <span class="token operator">?</span> weapon<span class="token punctuation">.</span><span class="token function">getStats</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>stat<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span><span class="token class-name">Armor</span> armor<span class="token punctuation">,</span> <span class="token class-name">Stats</span> stat<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">return</span> armor <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> armor<span class="token punctuation">.</span><span class="token function">getStats</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span>stat<span class="token punctuation">)</span> <span class="token operator">?</span> armor<span class="token punctuation">.</span><span class="token function">getStats</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>stat<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getTotalAttack</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">int</span> plusAttack <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> message <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"FUE: %d"</span><span class="token punctuation">,</span> <span class="token function">getStrength</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusAttack <span class="token operator">+=</span> <span class="token function">getWeaponStat</span><span class="token punctuation">(</span>weapon<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">ATTACK</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusAttack <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>headArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">ATTACK</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusAttack <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>chestArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">ATTACK</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusAttack <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>legArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">ATTACK</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusAttack <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>footArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">ATTACK</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusAttack <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>handArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">ATTACK</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>plusAttack <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                message <span class="token operator">+=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">" (+%d)"</span><span class="token punctuation">,</span> plusAttack<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> message<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token function">getAtk</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">int</span> plusAttack <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            plusAttack <span class="token operator">+=</span> <span class="token function">getWeaponStat</span><span class="token punctuation">(</span>weapon<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">ATTACK</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusAttack <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>headArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">ATTACK</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusAttack <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>chestArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">ATTACK</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusAttack <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>legArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">ATTACK</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusAttack <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>footArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">ATTACK</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusAttack <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>handArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">ATTACK</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> plusAttack <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">?</span> strength <span class="token operator">+</span> plusAttack <span class="token operator">:</span> strength<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getTotalDefense</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">int</span> plusDefense <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> message <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"DEF: %d"</span><span class="token punctuation">,</span> <span class="token function">getDefense</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusDefense <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>headArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">DEFENSE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusDefense <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>chestArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">DEFENSE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusDefense <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>legArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">DEFENSE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusDefense <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>footArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">DEFENSE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusDefense <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>handArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">DEFENSE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>plusDefense <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
                message <span class="token operator">+=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">" (+%d)"</span><span class="token punctuation">,</span> plusDefense<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> message<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token function">getDef</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">int</span> plusDefense <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            plusDefense <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>headArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">DEFENSE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusDefense <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>chestArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">DEFENSE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusDefense <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>legArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">DEFENSE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusDefense <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>footArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">DEFENSE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusDefense <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>handArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">DEFENSE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> plusDefense <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">?</span> defense <span class="token operator">+</span> plusDefense <span class="token operator">:</span> defense<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getTotalIntelligence</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">int</span> plusIntelligence <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> message <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"INT: %d"</span><span class="token punctuation">,</span> <span class="token function">getInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusIntelligence <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>headArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">INTELLIGENCE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusIntelligence <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>chestArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">INTELLIGENCE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusIntelligence <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>legArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">INTELLIGENCE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusIntelligence <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>footArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">INTELLIGENCE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusIntelligence <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>handArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">INTELLIGENCE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>plusIntelligence <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
                message <span class="token operator">+=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">" (+%d)"</span><span class="token punctuation">,</span> plusIntelligence<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> message<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token function">getInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">int</span> plusIntelligence <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            plusIntelligence <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>headArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">INTELLIGENCE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusIntelligence <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>chestArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">INTELLIGENCE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusIntelligence <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>legArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">INTELLIGENCE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusIntelligence <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>footArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">INTELLIGENCE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusIntelligence <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>handArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">INTELLIGENCE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> plusIntelligence <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">?</span> intelligence <span class="token operator">+</span> plusIntelligence <span class="token operator">:</span> intelligence<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getTotalDexterity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">int</span> plusDexterity <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> message <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"DES: %d"</span><span class="token punctuation">,</span> <span class="token function">getDex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusDexterity <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>headArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">DEXTERITY</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusDexterity <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>chestArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">DEXTERITY</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusDexterity <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>legArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">DEXTERITY</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusDexterity <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>footArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">DEXTERITY</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusDexterity <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>handArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">DEXTERITY</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>plusDexterity <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
                message <span class="token operator">+=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">" (+%d)"</span><span class="token punctuation">,</span> plusDexterity<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> message<span class="token punctuation">;</span>
    
        <span class="token punctuation">}</span>
    
        <span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token function">getDex</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">int</span> plusDexterity <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            plusDexterity <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>headArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">DEXTERITY</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusDexterity <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>chestArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">DEXTERITY</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusDexterity <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>legArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">DEXTERITY</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusDexterity <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>footArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">DEXTERITY</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusDexterity <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>handArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">DEXTERITY</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> plusDexterity <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">?</span> dexterity <span class="token operator">+</span> plusDexterity <span class="token operator">:</span> dexterity<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getTotalLuck</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">int</span> plusLuck <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> message <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"SUER: %d"</span><span class="token punctuation">,</span> <span class="token function">getLck</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusLuck <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>headArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">LUCK</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusLuck <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>chestArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">LUCK</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusLuck <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>legArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">LUCK</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusLuck <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>footArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">LUCK</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusLuck <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>handArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">LUCK</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>plusLuck <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
                message <span class="token operator">+=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">" (+%d)"</span><span class="token punctuation">,</span> plusLuck<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> message<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token function">getLck</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">int</span> plusLuck <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            plusLuck <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>headArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">LUCK</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusLuck <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>chestArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">LUCK</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusLuck <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>legArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">LUCK</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusLuck <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>footArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">LUCK</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusLuck <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>handArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">LUCK</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> plusLuck <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">?</span> luck <span class="token operator">+</span> plusLuck <span class="token operator">:</span> luck<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getTotalResistance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">int</span> plusResistance <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> message <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"RES: %d"</span><span class="token punctuation">,</span> <span class="token function">getRes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusResistance <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>headArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">RESISTANCE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusResistance <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>chestArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">RESISTANCE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusResistance <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>legArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">RESISTANCE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusResistance <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>footArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">RESISTANCE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusResistance <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>handArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">RESISTANCE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>plusResistance <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
                message <span class="token operator">+=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">" (+%d)"</span><span class="token punctuation">,</span> plusResistance<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> message<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token function">getRes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">int</span> plusResistance <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            plusResistance <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>headArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">RESISTANCE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusResistance <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>chestArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">RESISTANCE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusResistance <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>legArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">RESISTANCE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusResistance <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>footArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">RESISTANCE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusResistance <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>handArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">RESISTANCE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> plusResistance <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">?</span> resistance <span class="token operator">+</span> plusResistance <span class="token operator">:</span> resistance<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getTotalSpeed</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">int</span> plusSpeed <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> message <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"VEL: %d"</span><span class="token punctuation">,</span> <span class="token function">getSpd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusSpeed <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>headArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">SPEED</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusSpeed <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>chestArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">SPEED</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusSpeed <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>legArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">SPEED</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusSpeed <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>footArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">SPEED</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusSpeed <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>handArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">SPEED</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>plusSpeed <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
                message <span class="token operator">+=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">" (+%d)"</span><span class="token punctuation">,</span> plusSpeed<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> message<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token function">getSpd</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">int</span> plusSpeed <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            plusSpeed <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>headArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">SPEED</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusSpeed <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>chestArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">SPEED</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusSpeed <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>legArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">SPEED</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusSpeed <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>footArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">SPEED</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            plusSpeed <span class="token operator">+=</span> <span class="token function">getArmorStat</span><span class="token punctuation">(</span>handArmor<span class="token punctuation">,</span> <span class="token class-name">Stats</span><span class="token punctuation">.</span><span class="token constant">SPEED</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> plusSpeed <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">?</span> speed <span class="token operator">+</span> plusSpeed <span class="token operator">:</span> speed<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">takeDamage</span><span class="token punctuation">(</span><span class="token keyword">int</span> damage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            damage <span class="token operator">-=</span> <span class="token function">getDef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> message<span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>damage <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> damage <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            message <span class="token operator">=</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">takeDamage</span><span class="token punctuation">(</span>damage<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isDead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                message <span class="token operator">+=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> <span class="token function">printDeath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> message<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">gainExperience</span><span class="token punctuation">(</span><span class="token keyword">int</span> experience<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">this</span><span class="token punctuation">.</span>experience <span class="token operator">+=</span> experience<span class="token punctuation">;</span>
            <span class="token class-name">String</span> message <span class="token operator">=</span> <span class="token function">printExperience</span><span class="token punctuation">(</span>experience<span class="token punctuation">)</span><span class="token punctuation">;</span>
            message <span class="token operator">+=</span> <span class="token function">checkLevelUp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> message<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token doc-comment comment">/**
         * Revisa si el jugador sube de nivel.
         */</span>
        <span class="token keyword">private</span> <span class="token class-name">String</span> <span class="token function">checkLevelUp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>experience <span class="token operator">>=</span> level <span class="token operator">*</span> <span class="token number">20</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
                level<span class="token operator">++</span><span class="token punctuation">;</span>
                maxHp <span class="token operator">+=</span> <span class="token number">5</span><span class="token punctuation">;</span>
                maxMp <span class="token operator">+=</span> <span class="token number">3</span><span class="token punctuation">;</span>
                hp <span class="token operator">=</span> maxHp<span class="token punctuation">;</span>
                mp <span class="token operator">=</span> maxMp<span class="token punctuation">;</span>
                strength <span class="token operator">+=</span> <span class="token class-name">Randomized</span><span class="token punctuation">.</span><span class="token function">randomizeNumber</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                defense <span class="token operator">+=</span> <span class="token class-name">Randomized</span><span class="token punctuation">.</span><span class="token function">randomizeNumber</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">randomizeStats</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">GameWindow</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusPanel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"¡%s ha subido al nivel %d!\n"</span><span class="token punctuation">,</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> level<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token string">""</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">gainGold</span><span class="token punctuation">(</span><span class="token keyword">int</span> gold<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">this</span><span class="token punctuation">.</span>gold <span class="token operator">+=</span> gold<span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token function">printGold</span><span class="token punctuation">(</span>gold<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">printDeath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">return</span> <span class="token string">"¡Has muerto!"</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">printRun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token class-name">Interactive</span><span class="token punctuation">.</span><span class="token function">printDialog</span><span class="token punctuation">(</span><span class="token string">"¡Has huido!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">printGold</span><span class="token punctuation">(</span><span class="token keyword">int</span> gold<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">return</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"Has ganado %d monedas de oro!\n"</span><span class="token punctuation">,</span> gold<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">printExperience</span><span class="token punctuation">(</span><span class="token keyword">int</span> experience<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">return</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"Has ganado %d puntos de experiencia!\n"</span><span class="token punctuation">,</span> experience<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">printHeal</span><span class="token punctuation">(</span><span class="token keyword">int</span> heal<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token class-name">Interactive</span><span class="token punctuation">.</span><span class="token function">printDialog</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"Has recuperado %d puntos de salud!"</span><span class="token punctuation">,</span> heal<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">printEquipWeapon</span><span class="token punctuation">(</span><span class="token annotation punctuation">@NotNull</span> <span class="token class-name">Weapon</span> weapon<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token class-name">Interactive</span><span class="token punctuation">.</span><span class="token function">printDialog</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"Has equipado %s!"</span><span class="token punctuation">,</span> weapon<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">printEquipArmor</span><span class="token punctuation">(</span><span class="token annotation punctuation">@NotNull</span> <span class="token class-name">Armor</span> armor<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token class-name">Interactive</span><span class="token punctuation">.</span><span class="token function">printDialog</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"Has equipado %s!"</span><span class="token punctuation">,</span> armor<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getWeaponName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">return</span> weapon <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">?</span> weapon<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token string">"None"</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token class-name">Image</span> <span class="token function">getImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">return</span> <span class="token class-name">ImageManager</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getImage</span><span class="token punctuation">(</span><span class="token string">"player"</span><span class="token punctuation">,</span>
                    <span class="token keyword">new</span> <span class="token class-name">ImageIcon</span><span class="token punctuation">(</span><span class="token string">"img\\player\\player.png"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Skill</span><span class="token punctuation">></span></span> <span class="token function">getSkillMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">return</span> skillMap<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>En este caso, el jugador ahora tiene una interacción más directa con el enemigo, ya que ahora el jugador puede atacar al
enemigo directamente, sin necesidad de ventanas emergentes, además de que ahora el jugador puede recibir daño
directamente del enemigo, lo que hace que la interacción sea más directa y menos primitiva.</p>
<h2 id="los-tipos-de-armadura-del-jugador" tabindex="-1"><a class="header-anchor" href="#los-tipos-de-armadura-del-jugador"><span>Los tipos de armadura del jugador</span></a></h2>
<p>Para completar la clase previa, debemos crear un tipo enumerado para nuestras armaduras:</p>
<div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre v-pre class="language-java"><code>    <span class="token keyword">package</span> <span class="token namespace">items<span class="token punctuation">.</span>armors</span><span class="token punctuation">;</span>
    
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">Serializable</span></span><span class="token punctuation">;</span>
    
    <span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">ArmorType</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span> <span class="token punctuation">{</span>
    
        <span class="token constant">HEAD</span><span class="token punctuation">,</span> <span class="token constant">CHEST</span><span class="token punctuation">,</span> <span class="token constant">LEGS</span><span class="token punctuation">,</span> <span class="token constant">FEET</span><span class="token punctuation">,</span> <span class="token constant">HANDS</span><span class="token punctuation">,</span> <span class="token constant">SHIELD</span><span class="token punctuation">;</span>
    
        <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">getArmorType</span><span class="token punctuation">(</span><span class="token class-name">ArmorType</span> type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">return</span> <span class="token keyword">switch</span> <span class="token punctuation">(</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">case</span> <span class="token constant">HEAD</span> <span class="token operator">-></span> <span class="token string">"CABEZA"</span><span class="token punctuation">;</span>
                <span class="token keyword">case</span> <span class="token constant">CHEST</span> <span class="token operator">-></span> <span class="token string">"PECHO"</span><span class="token punctuation">;</span>
                <span class="token keyword">case</span> <span class="token constant">LEGS</span> <span class="token operator">-></span> <span class="token string">"PIERNAS"</span><span class="token punctuation">;</span>
                <span class="token keyword">case</span> <span class="token constant">FEET</span> <span class="token operator">-></span> <span class="token string">"PIES"</span><span class="token punctuation">;</span>
                <span class="token keyword">case</span> <span class="token constant">HANDS</span> <span class="token operator">-></span> <span class="token string">"MANOS"</span><span class="token punctuation">;</span>
                <span class="token keyword">case</span> <span class="token constant">SHIELD</span> <span class="token operator">-></span> <span class="token string">"ESCUDO"</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Este tipo enumerado nos permitirá identificar el tipo de armadura que estamos utilizando en el jugador, lo que nos
permitirá equipar y desequipar armaduras de manera más sencilla.</p>
<h2 id="los-skills-del-jugador" tabindex="-1"><a class="header-anchor" href="#los-skills-del-jugador"><span>Los skills del jugador</span></a></h2>
<p>Además de las armaduras, el jugador ahora tiene habilidades que puede utilizar en combate, estas habilidades son
instancias de la clase Skill, que es una clase abstracta que define el comportamiento de las habilidades, además de que
cada habilidad tiene un nombre y una descripción, lo que nos permite identificarlas y utilizarlas de manera más
sencilla.</p>
<div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre v-pre class="language-java"><code>    <span class="token keyword">package</span> <span class="token namespace">player<span class="token punctuation">.</span>skills</span><span class="token punctuation">;</span>
    
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">enemies<span class="token punctuation">.</span></span><span class="token class-name">Enemy</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">gui_old<span class="token punctuation">.</span>panels<span class="token punctuation">.</span></span><span class="token class-name">CharactersPanel</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">player<span class="token punctuation">.</span></span><span class="token class-name">Player</span></span><span class="token punctuation">;</span>
    
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Skill</span> <span class="token punctuation">{</span>
    
        <span class="token keyword">protected</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
        <span class="token keyword">protected</span> <span class="token class-name">String</span> description<span class="token punctuation">;</span>
        <span class="token keyword">protected</span> <span class="token keyword">int</span> level<span class="token punctuation">;</span>
        <span class="token keyword">protected</span> <span class="token keyword">int</span> manaCost<span class="token punctuation">;</span>
        <span class="token keyword">protected</span> <span class="token class-name">CharactersPanel</span> charactersPanel<span class="token punctuation">;</span>
    
        <span class="token keyword">public</span> <span class="token class-name">Skill</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">String</span> description<span class="token punctuation">,</span> <span class="token keyword">int</span> level<span class="token punctuation">,</span> <span class="token keyword">int</span> manaCost<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>description <span class="token operator">=</span> description<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>level <span class="token operator">=</span> level<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>manaCost <span class="token operator">=</span> manaCost<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">activate</span><span class="token punctuation">(</span><span class="token class-name">Player</span> player<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">if</span> <span class="token punctuation">(</span>player<span class="token punctuation">.</span><span class="token function">getMp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> manaCost<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token string">"¡No hay suficiente maná!"</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            player<span class="token punctuation">.</span><span class="token function">useMp</span><span class="token punctuation">(</span>manaCost<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token function">effect</span><span class="token punctuation">(</span>player<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">activate</span><span class="token punctuation">(</span><span class="token class-name">Player</span> player<span class="token punctuation">,</span> <span class="token class-name">Enemy</span> enemy<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">if</span> <span class="token punctuation">(</span>player<span class="token punctuation">.</span><span class="token function">getMp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> manaCost<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token string">"¡No hay suficiente maná!"</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            player<span class="token punctuation">.</span><span class="token function">useMp</span><span class="token punctuation">(</span>manaCost<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token function">effect</span><span class="token punctuation">(</span>player<span class="token punctuation">,</span> enemy<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token class-name">String</span> <span class="token function">effect</span><span class="token punctuation">(</span><span class="token class-name">Player</span> player<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
        <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token class-name">String</span> <span class="token function">effect</span><span class="token punctuation">(</span><span class="token class-name">Player</span> player<span class="token punctuation">,</span> <span class="token class-name">Enemy</span> enemy<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">return</span> name<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getDescription</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">return</span> description<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setDescription</span><span class="token punctuation">(</span><span class="token class-name">String</span> description<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">this</span><span class="token punctuation">.</span>description <span class="token operator">=</span> description<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getLevel</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">return</span> level<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setLevel</span><span class="token punctuation">(</span><span class="token keyword">int</span> level<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">this</span><span class="token punctuation">.</span>level <span class="token operator">=</span> level<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getManaCost</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">return</span> manaCost<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setManaCost</span><span class="token punctuation">(</span><span class="token keyword">int</span> manaCost<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">this</span><span class="token punctuation">.</span>manaCost <span class="token operator">=</span> manaCost<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token class-name">CharactersPanel</span> <span class="token function">getCharactersPanel</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">return</span> charactersPanel<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setCharactersPanel</span><span class="token punctuation">(</span><span class="token class-name">CharactersPanel</span> charactersPanel<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">this</span><span class="token punctuation">.</span>charactersPanel <span class="token operator">=</span> charactersPanel<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>En este caso, las habilidades del jugador son instancias de la clase Skill, que es una clase abstracta que define el
comportamiento de las habilidades, además de que cada habilidad tiene un nombre y una descripción, lo que nos permite
identificarlas y utilizarlas de manera más sencilla.</p>
<h2 id="la-skill-de-curacion-basica" tabindex="-1"><a class="header-anchor" href="#la-skill-de-curacion-basica"><span>La skill de curación básica</span></a></h2>
<p>La primera habilidad que vamos a implementar es la habilidad de curación básica, que nos permite recuperar una cantidad
de
puntos de salud, esta habilidad es una instancia de la clase Skill y tiene un nombre y una descripción, además de que
tiene un nivel y un costo de maná, lo que nos permite identificarla y utilizarla de manera más sencilla.</p>
<div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre v-pre class="language-java"><code>    <span class="token keyword">package</span> <span class="token namespace">player<span class="token punctuation">.</span>skills</span><span class="token punctuation">;</span>
    
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">enemies<span class="token punctuation">.</span></span><span class="token class-name">Enemy</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">game<span class="token punctuation">.</span>exceptions<span class="token punctuation">.</span></span><span class="token class-name">EnemyDeadException</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">gui_old<span class="token punctuation">.</span>panels<span class="token punctuation">.</span></span><span class="token class-name">DialogPanel</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">player<span class="token punctuation">.</span></span><span class="token class-name">Player</span></span><span class="token punctuation">;</span>
    
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BasicHeal</span> <span class="token keyword">extends</span> <span class="token class-name">Skill</span> <span class="token punctuation">{</span>
    
        <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">BasicHeal</span> instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BasicHeal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> <span class="token constant">NAME</span> <span class="token operator">=</span> <span class="token string">"Curación Básica"</span><span class="token punctuation">;</span>
    
        <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">BasicHeal</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">if</span> <span class="token punctuation">(</span>instance <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
                <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">BasicHeal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> instance<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">private</span> <span class="token class-name">BasicHeal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token constant">NAME</span><span class="token punctuation">,</span> <span class="token string">"Cura al jugador 8 puntos de vida"</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">effect</span><span class="token punctuation">(</span><span class="token class-name">Player</span> player<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            player<span class="token punctuation">.</span><span class="token function">heal</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            player<span class="token punctuation">.</span><span class="token function">useMp</span><span class="token punctuation">(</span>manaCost<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"¡%s ha sido curado por 8 puntos de vida!"</span><span class="token punctuation">,</span> player<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">effect</span><span class="token punctuation">(</span><span class="token class-name">Player</span> player<span class="token punctuation">,</span> <span class="token class-name">Enemy</span> enemy<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token class-name">String</span> message <span class="token operator">=</span> <span class="token function">effect</span><span class="token punctuation">(</span>player<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">DialogPanel</span><span class="token punctuation">)</span> <span class="token function">getCharactersPanel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDialogPanel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                enemy<span class="token punctuation">.</span><span class="token function">attack</span><span class="token punctuation">(</span>player<span class="token punctuation">,</span> <span class="token function">getCharactersPanel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">EnemyDeadException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> message<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>En este caso, la habilidad de curación básica es una instancia de la clase Skill y tiene un nombre y una descripción,
además de que tiene un nivel y un costo de maná, lo que nos permite identificarla y utilizarla de manera más sencilla.</p>
<h2 id="la-skill-de-ataque-furioso" tabindex="-1"><a class="header-anchor" href="#la-skill-de-ataque-furioso"><span>La skill de ataque furioso</span></a></h2>
<p>La segunda habilidad que vamos a implementar es la habilidad de ataque furioso, que nos permite infligir una cantidad de
daño adicional al enemigo, esta habilidad es una instancia de la clase Skill y tiene un nombre y una descripción, además
de que tiene un nivel y un costo de maná, lo que nos permite identificarla y utilizarla de manera más sencilla.</p>
<div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre v-pre class="language-java"><code>    <span class="token keyword">package</span> <span class="token namespace">player<span class="token punctuation">.</span>skills</span><span class="token punctuation">;</span>
    
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">enemies<span class="token punctuation">.</span></span><span class="token class-name">Enemy</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">game<span class="token punctuation">.</span>exceptions<span class="token punctuation">.</span></span><span class="token class-name">EnemyDeadException</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">gui_old<span class="token punctuation">.</span>panels<span class="token punctuation">.</span></span><span class="token class-name">DialogPanel</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">gui_old<span class="token punctuation">.</span>panels<span class="token punctuation">.</span></span><span class="token class-name">EnemyPanel</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">gui_old<span class="token punctuation">.</span>panels<span class="token punctuation">.</span></span><span class="token class-name">PlayerPanel</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">player<span class="token punctuation">.</span></span><span class="token class-name">Player</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">util<span class="token punctuation">.</span>enemies<span class="token punctuation">.</span></span><span class="token class-name">EnemyFactory</span></span><span class="token punctuation">;</span>
    
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FuryAttack</span> <span class="token keyword">extends</span> <span class="token class-name">Skill</span> <span class="token punctuation">{</span>
    
        <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token keyword">static</span> <span class="token class-name">FuryAttack</span> instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FuryAttack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token constant">NAME</span> <span class="token operator">=</span> <span class="token string">"Ataque Furia"</span><span class="token punctuation">;</span>
    
        <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">FuryAttack</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">if</span> <span class="token punctuation">(</span>instance <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
                <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">FuryAttack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> instance<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">public</span> <span class="token class-name">FuryAttack</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token constant">NAME</span><span class="token punctuation">,</span> <span class="token string">"Ataque al enemigo con 5 puntos de daño"</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">effect</span><span class="token punctuation">(</span><span class="token class-name">Player</span> player<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">effect</span><span class="token punctuation">(</span><span class="token class-name">Player</span> player<span class="token punctuation">,</span> <span class="token class-name">Enemy</span> enemy<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
            player<span class="token punctuation">.</span><span class="token function">useMp</span><span class="token punctuation">(</span>manaCost<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> message <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
            message <span class="token operator">+=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"¡%s ataca a %s con %d puntos de daño!\n"</span><span class="token punctuation">,</span> player<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> enemy<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            message <span class="token operator">+=</span> enemy<span class="token punctuation">.</span><span class="token function">takeDamage</span><span class="token punctuation">(</span>player<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">DialogPanel</span><span class="token punctuation">)</span> <span class="token function">getCharactersPanel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDialogPanel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>enemy<span class="token punctuation">.</span><span class="token function">isDead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
                message <span class="token operator">+=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"%s ha ganado %d de oro y %d de experiencia!\n"</span><span class="token punctuation">,</span> player<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> enemy<span class="token punctuation">.</span><span class="token function">getGold</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> enemy<span class="token punctuation">.</span><span class="token function">getExperience</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                message <span class="token operator">+=</span> player<span class="token punctuation">.</span><span class="token function">gainGold</span><span class="token punctuation">(</span>enemy<span class="token punctuation">.</span><span class="token function">getGold</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                message <span class="token operator">+=</span> player<span class="token punctuation">.</span><span class="token function">gainExperience</span><span class="token punctuation">(</span>enemy<span class="token punctuation">.</span><span class="token function">getExperience</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">DialogPanel</span><span class="token punctuation">)</span> <span class="token function">getCharactersPanel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDialogPanel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
                enemy<span class="token punctuation">.</span><span class="token function">dropItem</span><span class="token punctuation">(</span>player<span class="token punctuation">,</span> <span class="token function">getCharactersPanel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">Enemy</span> newEnemy <span class="token operator">=</span> <span class="token class-name">EnemyFactory</span><span class="token punctuation">.</span><span class="token function">generateRegularEnemy</span><span class="token punctuation">(</span>player<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">getCharactersPanel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setEnemy</span><span class="token punctuation">(</span>enemy<span class="token punctuation">)</span><span class="token punctuation">;</span>
                charactersPanel<span class="token punctuation">.</span><span class="token function">updateEnemy</span><span class="token punctuation">(</span>newEnemy<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">EnemyPanel</span> enemyPanel <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">EnemyPanel</span><span class="token punctuation">)</span> <span class="token function">getCharactersPanel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getEnemyPanel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">PlayerPanel</span> playerPanel <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">PlayerPanel</span><span class="token punctuation">)</span> <span class="token function">getCharactersPanel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getPlayerPanel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                enemyPanel<span class="token punctuation">.</span><span class="token function">updateEnemy</span><span class="token punctuation">(</span>newEnemy<span class="token punctuation">)</span><span class="token punctuation">;</span>
                playerPanel<span class="token punctuation">.</span><span class="token function">updatePlayer</span><span class="token punctuation">(</span>player<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token keyword">try</span> <span class="token punctuation">{</span>
                    enemy<span class="token punctuation">.</span><span class="token function">attack</span><span class="token punctuation">(</span>player<span class="token punctuation">,</span> <span class="token function">getCharactersPanel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">EnemyDeadException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token class-name">EnemyPanel</span> enemyPanel <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">EnemyPanel</span><span class="token punctuation">)</span> <span class="token function">getCharactersPanel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getEnemyPanel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">PlayerPanel</span> playerPanel <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">PlayerPanel</span><span class="token punctuation">)</span> <span class="token function">getCharactersPanel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getPlayerPanel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                enemyPanel<span class="token punctuation">.</span><span class="token function">updateEnemy</span><span class="token punctuation">(</span>enemy<span class="token punctuation">)</span><span class="token punctuation">;</span>
                playerPanel<span class="token punctuation">.</span><span class="token function">updatePlayer</span><span class="token punctuation">(</span>player<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> message<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>En este caso, la habilidad de ataque furioso es una instancia de la clase Skill y tiene un nombre y una descripción,
además de que tiene un nivel y un costo de maná, lo que nos permite identificarla y utilizarla de manera más sencilla.</p>
<h2 id="conclusion" tabindex="-1"><a class="header-anchor" href="#conclusion"><span>Conclusión</span></a></h2>
<p>Con estas actualizaciones, ahora el enemigo y el jugador tienen una interacción más directa, lo que hace que la
interacción sea más fluida y menos primitiva, además de que ahora el jugador tiene habilidades que puede utilizar en
combate, lo que hace que el combate sea más interesante y menos monótono.</p>
</div></template>


